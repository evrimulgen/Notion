


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using Connectors &mdash; Notion: a PACS for researchers 1.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Notion: a PACS for researchers 1.0 documentation" href="../index.html"/>
        <link rel="next" title="Use Cases" href="use_cases.html"/>
        <link rel="prev" title="Anonymziation" href="anonymization.html"/>
<link rel="stylesheet" href="../_static/notion.css" />
<link href='http://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>

 


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="fa fa-home"> Notion: a PACS for researchers</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#running-notion">Running Notion</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#configuration">Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#create-a-user">Create a User</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#create-a-pool">Create a Pool</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#working-with-the-pool">Working with the pool</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#sending-images-to-the-pool">Sending images to the Pool</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#next-steps">Next steps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dicom.html">DICOM Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dicom.html#device-setup">Device Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="dicom.html#store">Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="dicom.html#query">Query</a></li>
<li class="toctree-l2"><a class="reference internal" href="dicom.html#retrieve">Retrieve</a></li>
<li class="toctree-l2"><a class="reference internal" href="dicom.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="anonymization.html">Anonymziation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="anonymization.html#scripts">Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="anonymization.html#anonymize-images">Anonymize Images</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Using Connectors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#configure-a-connector">Configure a Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="#performing-a-query">Performing a Query</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="use_cases.html">Use Cases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="use_cases.html#multi-researcher-multi-pool">Multi-Researcher / Multi-Pool</a></li>
<li class="toctree-l2"><a class="reference internal" href="use_cases.html#irb-pool">IRB Pool</a></li>
<li class="toctree-l2"><a class="reference internal" href="use_cases.html#research-pacs">Research PACS</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Reference/reference.html">Concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Reference/reference.html#pool">Pool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Reference/reference.html#device">Device</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Reference/reference.html#anonymization">Anonymization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Reference/reference.html#connector">Connectors</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Development/development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Development/metrics.html">Metrics and Monitoring</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Development/metrics.html#dicom">DICOM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Development/metrics.html#query-fetch">Query / Fetch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Development/metrics.html#id1">Gauges</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Development/metrics.html#id2">Counters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Development/metrics.html#id3">Meters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Development/metrics.html#id4">Timers</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Reference/operations.html">Operations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Reference/operations.html#dicom-configuration">DICOM Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Reference/operations.html#authentication-and-authorization-configuration">Authentication and Authorization Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Reference/operations.html#users-and-groups">Users and Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Reference/operations.html#dbweb-interface">DBWeb Interface</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Notion: a PACS for researchers</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Using Connectors</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="using-connectors">
<span id="usingconnectors"></span><h1>Using Connectors<a class="headerlink" href="#using-connectors" title="Permalink to this headline">¶</a></h1>
<p>Glad you have made it this far in the tutorials!  By now, you have learned <a class="reference internal" href="getting_started.html#createapool"><span>how to create Pools and Devices</span></a>, <a class="reference internal" href="getting_started.html#sendimagestoapool"><span>send images via the command line</span></a> and <a class="reference internal" href="anonymization.html#anonymizationintro"><span>construct a simple anonymizer</span></a>.  Here we are going to demonstrate a <a class="reference internal" href="use_cases.html#multiresearcherusecase"><span>simple use case</span></a> using a <a class="reference internal" href="../Reference/reference.html#connector"><span>Connectors</span></a>.  This scenario is useful for multiple researchers to share a common Connection to a PACS, allowing each to create custom anonymization rules and keep images isolated from other Pools.</p>
<div class="section" id="configure-a-connector">
<h2>Configure a Connector<a class="headerlink" href="#configure-a-connector" title="Permalink to this headline">¶</a></h2>
<p>A <a class="reference internal" href="../Reference/reference.html#connector"><span>Connector</span></a> defines a three party connection.  The role of each party is:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">PACS</span></code> An institutional PACS holding clinicial data.  Must be configured to allow queries from the Query Pool, and send to the Destination Pool.</li>
<li><code class="docutils literal"><span class="pre">Query</span> <span class="pre">Pool</span></code> A Notion pool with permission to query the PACS.</li>
<li><code class="docutils literal"><span class="pre">Receiving</span> <span class="pre">Pool</span></code> A Notion pool configured as a PACS destination.</li>
</ul>
<p>Using a Connector involves several steps.</p>
<ol class="arabic simple">
<li>Enter a Query (can be an Excel spreadsheet, or an individual MRN (Medical Record Number))</li>
<li><code class="docutils literal"><span class="pre">Query</span> <span class="pre">Pool</span></code> sends a C-FIND request to <code class="docutils literal"><span class="pre">PACS</span></code></li>
<li>Query results are displayed and Studies to be retrieved are chosen</li>
<li><code class="docutils literal"><span class="pre">Receiving</span> <span class="pre">Pool</span></code> issues a C-MOVE to <code class="docutils literal"><span class="pre">PACS</span></code></li>
<li><code class="docutils literal"><span class="pre">Receiving</span> <span class="pre">Pool</span></code> retrieves the images from <code class="docutils literal"><span class="pre">PACS</span></code></li>
<li><code class="docutils literal"><span class="pre">Receiving</span> <span class="pre">Pool</span></code> moves images into the local Pool for storage and anonymization.</li>
<li><code class="docutils literal"><span class="pre">Receiving</span> <span class="pre">Pool</span></code> deletes received images.</li>
</ol>
<p>Connectors are a complicated topic involving many moving parts, but from a study coordinator&#8217;s perspective, they are simple.</p>
<p>To add a Connector, click on the <code class="docutils literal"><span class="pre">Connectors</span></code> link on the menu bar and then the <cite>plus</cite> icon next to Connectors:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/create_connector.png"><img alt="../_images/create_connector.png" src="../_images/create_connector.png" style="width: 512px;" /></a>
</div>
<p>Click Save to save the Connector and enable it for use.  A Connector is accessible from any Pool.</p>
<p><strong>NB:</strong> The Device used in a connector <strong>must not</strong> use a regular expression.  The query and retieve require a correct Application Entity Title, full hostname and valid port.  See <a class="reference internal" href="dicom.html#dicom"><span>DICOM Configuration</span></a> for details.</p>
</div>
<div class="section" id="performing-a-query">
<h2>Performing a Query<a class="headerlink" href="#performing-a-query" title="Permalink to this headline">¶</a></h2>
<p>Clicking on <cite>Pools</cite> in the menu bar returns to the Pools view.  Beside each Pool listed on the left side is a <cite>query</cite> link.  Two modes of query are available.  Both require the appropriate connector to be selected.</p>
<p>An individual query takes a MRN (Medical Record Number), typically a PaitentID and queries using the Connector.  The interface is:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/individual_query.png"><img alt="../_images/individual_query.png" src="../_images/individual_query.png" style="width: 512px;" /></a>
</div>
<p>Multiple MRN&#8217;s may be specified using the spreadsheet query.  A template spreadsheet is available through the <cite>Excel template</cite> link.  The only required entry in each row is <code class="docutils literal"><span class="pre">PatientID</span></code>, the other columns can be used to limit the query by Modality, Date, AccessionNumber, etc.  Once the spreadsheet is filled out, it can be uploaded to Notion to start the query.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/spreadsheet_query.png"><img alt="../_images/spreadsheet_query.png" src="../_images/spreadsheet_query.png" style="width: 512px;" /></a>
</div>
<p>When the DICOM query is completed, a list of possible Studies is returned.  Any checked Study will be retrieved and transferred to this pool.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/completed_query.png"><img alt="../_images/completed_query.png" src="../_images/completed_query.png" style="width: 512px;" /></a>
</div>
<div class="section" id="next-steps">
<h3>Next Steps<a class="headerlink" href="#next-steps" title="Permalink to this headline">¶</a></h3>
<p>This completes the Notion tutorial.  For further information checkout Notion&#8217;s <a class="reference internal" href="../Reference/reference.html#concepts"><span>concepts</span></a> and <a class="reference internal" href="use_cases.html#usecases"><span>use cases</span></a>.</p>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="use_cases.html" class="btn btn-neutral float-right" title="Use Cases">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="anonymization.html" class="btn btn-neutral" title="Anonymziation"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, William Ryan, Patricio Fajnwaks, Daniel Blezek, Steve Langer, Brad Erickson.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>